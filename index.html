<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Merry XMas</title>
  <link rel="stylesheet" href="index.css">
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="https://code.jquery.com/mobile/1.5.0-alpha.1/jquery.mobile-1.5.0-alpha.1.min.js"></script>
  <link rel="icon" href="/favicon.ico"/>  
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/logo192.png"/>
  <!-- <link rel="manifest" href="/manifest.json"/> -->
</head>
<body> 
  <div class="sky">
  </div>  
  <p style="text-align: center; font-size: large;">    
    Chạm vào từng viên kẹo để mở 
  </p>
  <div class='cracker' id='cracker'>
    <div class='cracker-message'>
      <div class='cracker-message__inner'>
        Giáng sinh vui vẻ nhá!
      </div>
    </div>
    <div class='cracker-left'>
      <div class='cracker-left-inner'>
        <div class='cracker-left__mask-top'></div>
        <div class='cracker-left__mask-bottom'></div>
        <div class='cracker-left__tail'></div>
        <div class='cracker-left__end'></div>
        <div class='cracker-left__body'></div>
        <div class='cracker-left-zigzag'>
          <div class='cracker-left-zigzag__item'></div>
          <div class='cracker-left-zigzag__item'></div>
          <div class='cracker-left-zigzag__item'></div>
          <div class='cracker-left-zigzag__item'></div>
          <div class='cracker-left-zigzag__item'></div>
        </div>
      </div>
    </div>
    <div class='cracker-right'>
      <div class='cracker-right-inner'>
        <div class='cracker-right__mask-top'></div>
        <div class='cracker-right__mask-bottom'></div>
        <div class='cracker-right__tail'></div>
        <div class='cracker-right__end'></div>
        <div class='cracker-right__body'></div>
        <div class='cracker-right-zigzag'>
          <div class='cracker-right-zigzag__item'></div>
          <div class='cracker-right-zigzag__item'></div>
          <div class='cracker-right-zigzag__item'></div>
          <div class='cracker-right-zigzag__item'></div>
          <div class='cracker-right-zigzag__item'></div>
        </div>
      </div>
    </div>
  </div>

  <div class='cracker' id='cracker1'>
    <div class='cracker-message'>
      <div class='cracker-message__inner'>
        Không biết chiều nay
      </div>
    </div>
    <div class='cracker-left cracker-left-1'>
      <div class='cracker-left-inner cracker-left-inner-1'>
        <div class='cracker-left__mask-top'></div>
        <div class='cracker-left__mask-bottom'></div>
        <div class='cracker-left__tail cracker-left__tail-1'></div>
        <div class='cracker-left__end cracker-left__end-1'></div>
        <div class='cracker-left__body'></div>
        <div class='cracker-left-zigzag'>
          <div class='cracker-left-zigzag__item cracker-right-zigzag__item-1'></div>
          <div class='cracker-left-zigzag__item cracker-right-zigzag__item-1'></div>
          <div class='cracker-left-zigzag__item cracker-right-zigzag__item-1'></div>
          <div class='cracker-left-zigzag__item cracker-right-zigzag__item-1'></div>
          <div class='cracker-left-zigzag__item cracker-right-zigzag__item-1'></div>
        </div>
      </div>
    </div>
    <div class='cracker-right cracker-right-1'>
      <div class='cracker-right-inner cracker-right-inner-1'>
        <div class='cracker-right__mask-top'></div>
        <div class='cracker-right__mask-bottom'></div>
        <div class='cracker-right__tail cracker-right__tail-1'></div>
        <div class='cracker-right__end cracker-right__end-1'></div>
        <div class='cracker-right__body'></div>
        <div class='cracker-right-zigzag cracker-right-zigzag-1'>
          <div class='cracker-right-zigzag__item cracker-right-zigzag__item-1'></div>
          <div class='cracker-right-zigzag__item cracker-right-zigzag__item-1'></div>
          <div class='cracker-right-zigzag__item cracker-right-zigzag__item-1'></div>
          <div class='cracker-right-zigzag__item cracker-right-zigzag__item-1'></div>
          <div class='cracker-right-zigzag__item cracker-right-zigzag__item-1'></div>
        </div>
      </div>
    </div>
  </div>  

  <div class='cracker' id='cracker2'>
    <div class='cracker-message'>
      <div class='cracker-message__inner'>
        H có muốn lên hồ tây đạp vịt ko nhỉ?
      </div>
    </div>
    <div class='cracker-left cracker-left-2'>
      <div class='cracker-left-inner cracker-left-inner-2'>
        <div class='cracker-left__mask-top'></div>
        <div class='cracker-left__mask-bottom'></div>
        <div class='cracker-left__tail cracker-left__tail-2'></div>
        <div class='cracker-left__end cracker-left__end-2'></div>
        <div class='cracker-left__body'></div>
        <div class='cracker-left-zigzag'>
          <div class='cracker-left-zigzag__item cracker-right-zigzag__item-2'></div>
          <div class='cracker-left-zigzag__item cracker-right-zigzag__item-2'></div>
          <div class='cracker-left-zigzag__item cracker-right-zigzag__item-2'></div>
          <div class='cracker-left-zigzag__item cracker-right-zigzag__item-2'></div>
          <div class='cracker-left-zigzag__item cracker-right-zigzag__item-2'></div>
        </div>
      </div>
    </div>
    <div class='cracker-right cracker-right-2'>
      <div class='cracker-right-inner cracker-right-inner-2'>
        <div class='cracker-right__mask-top'></div>
        <div class='cracker-right__mask-bottom'></div>
        <div class='cracker-right__tail cracker-right__tail-2'></div>
        <div class='cracker-right__end cracker-right__end-2'></div>
        <div class='cracker-right__body'></div>
        <div class='cracker-right-zigzag cracker-right-zigzag-2'>
          <div class='cracker-right-zigzag__item cracker-right-zigzag__item-2'></div>
          <div class='cracker-right-zigzag__item cracker-right-zigzag__item-2'></div>
          <div class='cracker-right-zigzag__item cracker-right-zigzag__item-2'></div>
          <div class='cracker-right-zigzag__item cracker-right-zigzag__item-2'></div>
          <div class='cracker-right-zigzag__item cracker-right-zigzag__item-2'></div>
        </div>
      </div>
    </div>
  </div>   
<script>
  // Snow from https://codepen.io/radum/pen/xICAB

(function () {

var COUNT = 300;
var masthead = document.querySelector('.sky');
var canvas = document.createElement('canvas');
var ctx = canvas.getContext('2d');
var width = masthead.clientWidth;
var height = masthead.clientHeight;
var i = 0;
var active = false;

function onResize() {
  width = masthead.clientWidth;
  height = masthead.clientHeight;
  canvas.width = width;
  canvas.height = height;
  ctx.fillStyle = '#FFF';

  var wasActive = active;
  active = width > 600;

  if (!wasActive && active)
    requestAnimFrame(update);
}

var Snowflake = function () {
  this.x = 0;
  this.y = 0;
  this.vy = 0;
  this.vx = 0;
  this.r = 0;

  this.reset();
}

Snowflake.prototype.reset = function() {
  this.x = Math.random() * width;
  this.y = Math.random() * -height;
  this.vy = 1 + Math.random() * 3;
  this.vx = 0.5 - Math.random();
  this.r = 1 + Math.random() * 2;
  this.o = 0.5 + Math.random() * 0.5;
}

canvas.style.position = 'absolute';
canvas.style.left = canvas.style.top = '0';

var snowflakes = [], snowflake;
for (i = 0; i < COUNT; i++) {
  snowflake = new Snowflake();
  snowflake.reset();
  snowflakes.push(snowflake);
}

function update() {

  ctx.clearRect(0, 0, width, height);

  if (!active)
    return;

  for (i = 0; i < COUNT; i++) {
    snowflake = snowflakes[i];
    snowflake.y += snowflake.vy;
    snowflake.x += snowflake.vx;

    ctx.globalAlpha = snowflake.o;
    ctx.beginPath();
    ctx.arc(snowflake.x, snowflake.y, snowflake.r, 0, Math.PI * 2, false);
    ctx.closePath();
    ctx.fill();

    if (snowflake.y > height) {
      snowflake.reset();
    }
  }

  requestAnimFrame(update);
}

// shim layer with setTimeout fallback
window.requestAnimFrame = (function(){
  return  window.requestAnimationFrame       ||
          window.webkitRequestAnimationFrame ||
          window.mozRequestAnimationFrame    ||
          function( callback ){
            window.setTimeout(callback, 1000 / 60);
          };
})();

onResize();
window.addEventListener('resize', onResize, false);

masthead.appendChild(canvas);
})();
</script>
<script>
  $(function(){    
    $( "div#cracker" ).bind( "tap", tapHandler );
   
    function tapHandler( event ){      
      $( "div#cracker" ).children("div.cracker-left").toggleClass("cracker-left-tap")
      $( "div#cracker" ).children("div.cracker-right").toggleClass("cracker-right-tap")
    }

    $( "div#cracker1" ).bind( "tap", tapHandler1 );
   
    function tapHandler1( event ){      
      $( "div#cracker1" ).children("div.cracker-left").toggleClass("cracker-left-tap")
      $( "div#cracker1" ).children("div.cracker-right").toggleClass("cracker-right-tap")
    }

    $( "div#cracker2" ).bind( "tap", tapHandler2 );
   
    function tapHandler2( event ){      
      $( "div#cracker2" ).children("div.cracker-left").toggleClass("cracker-left-tap")
      $( "div#cracker2" ).children("div.cracker-right").toggleClass("cracker-right-tap")
    }
  });
  // window.addEventListener("DOMContentLoaded", event => {
  
  // setTimeout(function() {
  //   const audio = document.getElementById("audio");
  //   audio.muted = false;
  // },1000)  
  // });

  </script>
</body>
</html>